{"version":3,"sources":["api/ws.js","modulos/header.js","modulos/tabelas/ongoing/retornar.js","modulos/tabelas/ongoing/queues.js","modulos/ongoing.js","modulos/tabelas/historico/outbound.js","modulos/tabelas/historico/tempoChamada.js","modulos/tabelas/historico/callrecordUnique.js","modulos/tabelas/historico/callrecord.js","modulos/historico.js","modulos/tabelas/gerencial/PjsipUnique.js","modulos/tabelas/gerencial/pjsip.js","modulos/gerencial.js","modulos/Login.js","App.js","index.js"],"names":["pagina","window","location","hostname","socket","WebSocket","funcoes","master","pjsip","queue","key","registrar","quem","func","sendMsg","tratamento","informacao","send","JSON","stringify","Tratamento","Informacao","getKey","Header","props","isOpen","useState","setQueues","backgroundColor","estilo","setEstilo","isOn","setOn","cor","onopen","onmessage","msg","data","split","console","log","length","HistoricoResult","Array","index","set","conseguiu","temp","parse","replace","e","undefined","pjsipOngoingResult","trim","user","linha","estado","QueueResult","posicao","inicio","callers","forEach","element","elemento","members","espera","push","adicionar","membro","alert","onclose","event","onerror","error","useEffect","value","queueName","logado","on","className","style","color","isLoged","onClick","switch","Retornar","historico","setHistorico","values","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","anterior","diatual","item","hora","reverse","numero","callerid","substring","contexto","parseInt","destino","resposta","numeros","horas","vezes","exist","Object","keys","i","splice","x","rows","titulos","sair","map","getNumeros","Queues","setQueue","nomes","states","livres","chamada","desconectado","fill","lenght","labels","datasets","label","options","scales","yAxes","ticks","beginAtZero","Ongoing","outbound","borderColor","borderWidth","tempoChamada","tempo","callrecordUnique","respostaStatus","minutos","Math","trunc","duracao","segundos","channel","onclick","file","unique","open","pesquisarData","voltar","voltar2","pesquisarDestino","getCall","Callrecord","setData","setDestino","atualizar","valor","width","type","onChange","target","placeholder","Historico","out","quantidade","in","PjsipUnique","getEstado","Pjsip","modvar","setModvar","modal","setModal","senha","setSenha","setLinha","usuario","setUsuario","context","setContext","getNewUser","position","top","left","disabled","name","id","bottom","cursor","xmlns","height","viewBox","d","getModal","Gerencial","Login","login","setLogin","onKeyPress","code","App","setSelected","setState","selected","setLoged","state","selecionado","this","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c05c10e.chunk.js","sourcesContent":["let pagina = window.location.hostname\r\n//let pagina = \"imperiotecnologiajp.sytes.net\"\r\nvar socket =  new WebSocket(\"ws://\"+pagina+\":8080/ws\");\r\nlet funcoes = []\r\nlet master = []\r\nlet pjsip = []\r\nlet queue = []\r\nlet key =\"\"\r\nlet connect = isOpen => {\r\n\r\n  socket.onopen = () => {\r\n    isOpen(\"#74A4BC\",true)\r\n  };\r\n\r\n  socket.onmessage = msg => {    \r\n    let data = msg.data.split(/\\r?\\n/)\r\n    console.log('recebi:'+data)\r\n    switch (data[data.length - 1]) {\r\n      case \"master\":\r\n        // Recebo a informação em forma de linhas e array, e logo em seguida cada linha do array vira um json\r\n        // OngoingResultado final:\r\n        // {callerid: \"8331423222\", destino: \"3\", contexto: \"from-external\", duracao: \"149\", resposta: \"NO ANSWER\", …}\r\n\r\n        var HistoricoResult = new Array(data.length - 2)\r\n        for (let index = 0, set = HistoricoResult.length - 1; index < HistoricoResult.length; index++, set--) {\r\n          let conseguiu = false\r\n          let temp = {}\r\n          try {\r\n            temp = JSON.parse(data[index].replace('\\t', ''));\r\n            conseguiu = true\r\n         }\r\n         catch (e) {\r\n            console.log(e); \r\n         }\r\n         if(conseguiu)HistoricoResult[set] = temp\r\n        }\r\n        master = HistoricoResult;\r\n        if (funcoes[\"ongoing\"] !== undefined) funcoes[\"ongoing\"](master)\r\n        if (funcoes[\"historico\"] !== undefined) funcoes[\"historico\"](master)\r\n        break;\r\n\r\n      case \"pjsip\":\r\n      var pjsipOngoingResult = new Array(data.length - 11) // -6 pq as 6 ultimas linhas n importa e 4 das primeiras tbm n\r\n      for (let index = 0; index < pjsipOngoingResult.length; index++){\r\n          let temp = data[index+4].replace(/\\s+/g, ' ').trim().split(' ')\r\n          pjsipOngoingResult[index] = {user:temp[1].split('/')[0],linha:temp[1].split('/')[1],estado:temp[2][0]}\r\n        }\r\n        pjsip = pjsipOngoingResult\r\n        if (funcoes[\"pjsip\"] !== undefined) funcoes[\"pjsip\"](pjsip)\r\n        break;\r\n      case \"queue\":\r\n      let QueueResult = []\r\n      let posicao=0\r\n      let inicio=true\r\n      let callers=false;\r\n        data.forEach((element,index) => {\r\n          let elemento = element.replace(/\\s+/g, ' ').trim()\r\n          if(data[index]!==\"\" && data[index]!==\"queue\"){\r\n            if(inicio){\r\n              QueueResult[posicao] = {queue:'',members:[],espera:[]}\r\n              QueueResult[posicao].queue = elemento.split(' ')[0]\r\n              inicio=false;\r\n            }else{\r\n              switch (elemento) {\r\n                case \"Members:\":  break;\r\n                case \"No Callers\": break;\r\n                case \"Callers:\": callers=true; break;\r\n              default:\r\n                if(!callers){\r\n                  let adicionar = elemento.replace(\"\u001b[1;31;40m\",\"\").replace(\"\\u001b[0m)\",\"\").replace(\"(\\u001b[1;32;40m\",\"\").split(' ')\r\n                  QueueResult[posicao].members.push({membro:adicionar[0],estado:adicionar[5]})  \r\n                }else{\r\n                  QueueResult[posicao].espera.push(elemento)\r\n                }\r\n                  break;\r\n              }\r\n            }\r\n          }else {\r\n            posicao++\r\n            callers=false\r\n            inicio=true\r\n          }\r\n        });\r\n        queue = QueueResult\r\n        if (funcoes[\"queue\"] !== undefined) funcoes[\"queue\"](queue)\r\n        if (funcoes[\"queueName\"] !== undefined) funcoes[\"queueName\"](queue)\r\n       break;\r\n       case \"key\":\r\n          key = data[0]\r\n          if(funcoes[\"login\"]!==undefined)funcoes[\"login\"]()\r\n        break;\r\n        case \"getPjsip\":\r\n          if(funcoes[\"getPjsip\"]!==undefined)funcoes[\"getPjsip\"](data)\r\n          break\r\n        case \"painel\":\r\n          alert(data[0])\r\n        break;\r\n      default:\r\n        console.log('estranho:'+msg.data)\r\n        console.log('estranho:'+msg)\r\n        break;\r\n    }\r\n  };\r\n\r\n  socket.onclose = event => {\r\n    console.log(\"Socket Closed Connection: \", event);\r\n    isOpen(\"#0F255F\",false)\r\n    alert(\"Conexão fechada, atualize a pagina\")\r\n\r\n  };\r\n\r\n  socket.onerror = error => {\r\n    console.log(\"Socket Error: \", error);\r\n    isOpen(\"#0F255F\",false)\r\n    alert(\"Erro na conexão com o servidor\")\r\n  };\r\n};\r\n\r\nlet registrar = (quem, func) => {\r\n  switch (quem) {\r\n    case \"ongoing\":\r\n      funcoes[quem] = func\r\n      if (func != null) func(master)\r\n      break;\r\n\r\n    case \"historico\":\r\n      funcoes[quem] = func\r\n      if (func != null) func(master)\r\n      break;\r\n\r\n    case \"pjsip\":\r\n      funcoes[quem] = func\r\n      if (func != null) func(pjsip)\r\n      break;\r\n\r\n    case \"queue\":\r\n      funcoes[quem] = func\r\n      if (func != null) func(queue)\r\n      break;\r\n\r\n    case \"queueName\":\r\n      funcoes[quem] = func\r\n      if (func != null) func(queue)\r\n      break;\r\n    case \"login\":\r\n      funcoes[quem] = func\r\n      if(key!==\"\"&&func!=null)func()\r\n      break;\r\n    case \"getPjsip\":\r\n      funcoes[quem] = func\r\n      break;\r\n    case \"setOff\":\r\n      funcoes[quem] = func\r\n      break; \r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nlet sendMsg = (tratamento,informacao) => {\r\n  socket.send(JSON.stringify({Tratamento:tratamento,Informacao:informacao}));\r\n};\r\n\r\nlet getAudio = (file) =>{\r\n  if(key!==\"\"){\r\n    window.open(\"http://\"+pagina+\":8080/files/?file=\"+file+\".wav&key=\"+key,'_blank')\r\n  }\r\n}\r\n\r\nlet getKey = () =>{\r\n  return key\r\n}\r\n\r\nexport { registrar, sendMsg, connect, getAudio, getKey};","import React, { useEffect,useState } from 'react';\r\nimport { registrar } from '../api/ws';\r\nimport { connect } from '../api/ws';\r\n\r\nfunction Header(props) {\r\n\r\n  const [queue, setQueues] = useState([]);\r\n  const [estilo, setEstilo] = useState({backgroundColor:\"#74A4BC\"});\r\n  const [isOn, setOn] = useState(true);\r\n\r\n  const isConnected = (cor,isOn) =>{\r\n    setEstilo({backgroundColor:cor})\r\n    setOn(isOn)\r\n  }\r\n  connect(isConnected)\r\n\r\n  useEffect(() => {\r\n      registrar(\"queueName\",value => setQueues(value)) // onmount\r\n      return () => {\r\n          registrar(\"queueName\",undefined) //ondismount\r\n      }\r\n  }, [])\r\n\r\n  let queueName = []\r\n  queue.forEach(element => {\r\n    queueName.push(element.queue)\r\n  })\r\n// numeros para retonar, volume de chamadas recebida, pessoas logadas.\r\n// quem esta em espera na fila, \r\n/*\r\n        <div className=\"dropdown-content\">\r\n            <a href=\"#\" >Todas</a>\r\n          {queueName.map(item =>{\r\n            return <a href=\"#\">{item}</a>\r\n          })}\r\n          </div>\r\n*/\r\n  let logado= <></>\r\n  let on=<></>\r\n  if(!isOn){\r\n    on = <div className=\"opcoes\" style={{color:\"red\"}}>Conexão perdida</div>\r\n  }\r\n  if(!props.isLoged){\r\n    logado = <div className=\"opcoes\" onClick={() => props.switch(\"login\")}>Login</div>\r\n  }\r\n  return (\r\n    <div className=\"header\" style={estilo}>\r\n      {on}\r\n      <div className=\"opcoes\" onClick={() => props.switch(\"ongoing\")}>Monitorizar</div>\r\n      <div className=\"opcoes\" onClick={() => props.switch(\"historico\")}>Historico</div>\r\n      <div className=\"opcoes\" onClick={() => props.switch(\"gerencial\")}>Gerencial</div>\r\n      {logado}\r\n    </div>\r\n  );\r\n}\r\n\r\n// props.switch(\"ongoing\")\r\nexport default Header;","import React, { useEffect,useState } from 'react';\r\nimport { registrar } from '../../../api/ws';\r\n\r\nconst Retornar = () => {\r\n    const [historico, setHistorico] = useState([]);\r\n\r\n    useEffect(() => {\r\n        registrar(\"ongoing\",value => setHistorico(value)) // onmount\r\n        return () => {\r\n            registrar(\"ongoing\",undefined) //ondismount\r\n        }\r\n    }, [])\r\n\r\n    let values = {}\r\n    /*  \r\n    1:[numeros...] \r\n    2:[numeros...] \r\n    3:[numeros...] \r\n    4:[numeros...] \r\n     */\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    today = yyyy + '-' + mm + '-' + dd;\r\n\r\n    let anterior =\"\"\r\n    let diatual =[]\r\n    for(let item of historico){\r\n        if(item===undefined)continue; // pra caso tenha um espaço vazio random no fim.\r\n        if (today === item.hora.split(' ')[0]) { // é hoje?\r\n            diatual.push(item)\r\n        }\r\n    }\r\n    diatual.reverse()\r\n    for (let item of diatual) { \r\n            let numero = item.callerid\r\n            if(numero[0]== \"+\")numero = numero.substring(1)\r\n            if((numero[0]+numero[1])===\"55\")numero = numero.substring(2)\r\n            if(numero[0]===\"0\")numero = numero.substring(1)\r\n            if(numero[0]===\"0\")numero = numero.substring(1)\r\n            if((numero[0]+numero[1])===\"83\")numero = numero.substring(2)\r\n\r\n            if (item.contexto === \"from-external\" && parseInt(item.destino) < 99) {// so pra confirmar se o destino é alguma das queues e separar inbound d outbound\r\n                if (item.resposta === \"NO ANSWER\" && numero !== anterior) { // recebeu chamada de fora mas não atendeu. \r\n                    anterior = numero;\r\n                    if (values[item.destino] === undefined) {\r\n                        values[item.destino] = { numeros: [], horas: [], vezes: [] }\r\n                    }\r\n                    let exist = false;\r\n                    values[item.destino].numeros.forEach((value, index) => {\r\n                        if (value === numero) {\r\n                            exist = true;\r\n                            values[item.destino].horas[index] = item.hora.split(' ')[1]\r\n                            values[item.destino].vezes[index] += 1\r\n                        }\r\n                    })\r\n                    if (!exist) {\r\n                        values[item.destino].numeros.push(numero)\r\n                        values[item.destino].horas.push(item.hora.split(' ')[1])\r\n                        values[item.destino].vezes.push(1)\r\n                    }\r\n\r\n                } else if (item.resposta === \"ANSWERED\") { // aqui estamos vendo caso a pessoa tenha ligado uma segunda vez e tenha sido atendida.\r\n                    let titulos = Object.keys(values);\r\n                    titulos.forEach((index) => {\r\n                        for (var i = 0; i < values[index].numeros.length; i++) {\r\n                            if (values[index].numeros[i] === numero) {\r\n                                values[index].numeros.splice(i, 1);\r\n                                values[index].horas.splice(i, 1);\r\n                                values[index].vezes.splice(i, 1);\r\n                                break;\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            } else { // aqui no caso estamos vendo se ela retornou ou não.\r\n                if (item.resposta === \"ANSWERED\") {\r\n                    let titulos = Object.keys(values);\r\n                    titulos.forEach((index) => {\r\n                        for (var i = 0; i < values[index].numeros.length; i++) {\r\n                            numero = item.destino\r\n                            if(numero[0]== \"+\")numero = numero.substring(1)\r\n                            if((numero[0]+numero[1])===\"55\")numero = numero.substring(2)\r\n                            if(numero[0]===\"0\")numero = numero.substring(1)\r\n                            if((numero[0]+numero[1])===\"83\")numero = numero.substring(2)\r\n                            if (values[index].numeros[i] === numero) {\r\n                                values[index].numeros.splice(i, 1);\r\n                                values[index].horas.splice(i, 1);\r\n                                values[index].vezes.splice(i, 1);\r\n                                break;\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n    }\r\n    const getNumeros = () => {\r\n        let x = 0;\r\n        let total;\r\n        let rows = []\r\n        let titulos = Object.keys(values);\r\n        while (true) {\r\n            let sair = titulos.length;\r\n            titulos.forEach(index => {\r\n                if (values[index].numeros[x] === undefined)\r\n                    sair -= 1;\r\n            });\r\n            if (sair === 0) {\r\n                break\r\n            }\r\n\r\n            rows.push(\r\n                <tr>\r\n                    {titulos.map((index) => {\r\n                        if(values[index].numeros[x]!==undefined)\r\n                        return <th>{values[index].numeros[x]} x {values[index].vezes[x]}<br />{values[index].horas[x]}</th>\r\n                    })}\r\n                </tr>)\r\n            x++;\r\n        }\r\n        total = <>{rows.map((index) => {\r\n            return index;\r\n        })}</>\r\n\r\n\r\n        return total;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"titulo\">Retornar</div>\r\n            <div className=\"conteudo\">\r\n                <table>\r\n                    <tr>\r\n                        <th>Suporte</th>\r\n                        <th>Financeiro</th>\r\n                        <th>Administrativo</th>\r\n                        <th>Comercial</th>\r\n                    </tr>\r\n                    {getNumeros()}\r\n\r\n\r\n                </table>\r\n            </div>\r\n            <div className=\"rodape\"></div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Retornar;","import React, { useEffect,useState } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { registrar } from '../../../api/ws';\r\n\r\nconst Queues = () => {\r\n\r\n  const [queue, setQueue] = useState([]);\r\n\r\n  useEffect(() => {\r\n      registrar(\"queue\",value => setQueue(value)) // onmount\r\n      return () => {\r\n          registrar(\"queue\",undefined) //ondismount\r\n      }\r\n  }, [])\r\n  let nomes=[]\r\n  let espera=[]\r\n  let states={livres:[],chamada:[],desconectado:[]}\r\n\r\n  states.livres = new Array(queue.length).fill(0);\r\n  states.chamada = new Array(queue.length).fill(0);\r\n  states.desconectado = new Array(queue.length).fill(0);\r\n\r\n\r\n  queue.forEach((item,index)=>{\r\n    nomes.push(item.queue)\r\n    espera.push(item.espera.lenght)\r\n    item.members.forEach(element =>{\r\n      switch (element.estado) {\r\n        case \"Not\":\r\n          states.livres[index]+=1;\r\n          break;\r\n\r\n        case \"(Unavailable\":\r\n          states.desconectado[index]+=1;          break;\r\n      \r\n        case \"In\":\r\n          states.chamada[index]+=1;          break;\r\n\r\n        default:\r\n          states.chamada[index]+=1;          break;\r\n      }\r\n    })\r\n  })\r\n  // not in use\r\n  // (Unavailable\r\n  // In\r\n    const data = {\r\n        labels: nomes,\r\n        datasets: [\r\n          {\r\n            label: '# Em espera',\r\n            data: espera,\r\n            backgroundColor: 'rgb(255, 99, 132)',\r\n          },\r\n          {\r\n            label: '# Livres',\r\n            data: states.livres,\r\n            backgroundColor: ' rgb(75, 192, 192)',\r\n          },\r\n          {\r\n            label: '# Em chamada',\r\n            data: states.chamada,\r\n            backgroundColor: 'rgb(54, 162, 235)',\r\n          },\r\n          {\r\n            label: '# Desconectado',\r\n            data: states.desconectado,\r\n            backgroundColor: 'black',\r\n          }\r\n        ],\r\n      };\r\n      const options = {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"titulo\">Queues</div>\r\n            <div className=\"conteudo\">\r\n                <Bar data={data} options={options} />\r\n            </div>\r\n            <div className=\"rodape\"></div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Queues;","import React from 'react';\r\nimport Retornar from './tabelas/ongoing/retornar.js';\r\nimport Queues from './tabelas/ongoing/queues.js';\r\n\r\nconst Ongoing = () => {\r\n    \r\n    return (\r\n    <div className=\"corpo\">\r\n        <div className=\"item\">\r\n            <Retornar />\r\n        </div>\r\n        <div className=\"item\">\r\n            <Queues />\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Ongoing;","import React from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\n\r\nconst outbound = (props) => {\r\n  let labels = Object.keys(props.data);\r\n\r\n  let data = labels.map((index)=>{\r\n    return props.data[index]['out']['quantidade']\r\n  })\r\n\r\n    const outbound = {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: '# efetuadas',\r\n            data: data,\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.2)',\r\n              'rgba(54, 162, 235, 0.2)',\r\n              'rgba(255, 206, 86, 0.2)',\r\n              'rgba(75, 192, 192, 0.2)',\r\n              'rgba(153, 102, 255, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(70, 51, 145, 0.2)',\r\n              'rgba(145, 51, 70, 0.2)',\r\n              'rgba(244, 4, 160, 0.2)',\r\n              'rgba(244, 4, 51, 0.2)',\r\n              'rgba(174, 169, 86, 0.2)',\r\n              'rgba(152, 160, 222, 0.2)',\r\n              'rgba(64, 194, 149, 0.2)',\r\n\r\n            ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)',\r\n              'rgba(54, 162, 235, 1)',\r\n              'rgba(255, 206, 86, 1)',\r\n              'rgba(75, 192, 192, 1)',\r\n              'rgba(153, 102, 255, 1)',\r\n              'rgba(255, 159, 64, 1)',\r\n              'rgba(70, 51, 145, 1)',\r\n              'rgba(145, 51, 70, 1)',\r\n              'rgba(244, 4, 160, 1)',\r\n              'rgba(244, 4, 51, 1)',\r\n              'rgba(174, 169, 86, 1)',\r\n              'rgba(152, 160, 222, 1)',\r\n              'rgba(64, 194, 149, 1)',\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      };\r\n\r\n    return (\r\n        <div>\r\n                            <div className=\"titulo\">Chamadas efetuadas</div>\r\n                <div className=\"conteudo\"><Pie data={outbound} /></div>\r\n                <div className=\"rodape\"></div>\r\n                <br/>\r\n                <br/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default outbound;","import React from 'react';\r\nimport { Pie } from 'react-chartjs-2';\r\n\r\nconst tempoChamada = (props) => {\r\n  let labels = Object.keys(props.data);\r\n  let data = labels.map((index)=>{\r\n    return props.data[index]['tempo']\r\n  })\r\n    const tempo ={\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: '# efetuadas',\r\n            data: data,\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.2)',\r\n              'rgba(54, 162, 235, 0.2)',\r\n              'rgba(255, 206, 86, 0.2)',\r\n              'rgba(75, 192, 192, 0.2)',\r\n              'rgba(153, 102, 255, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(255, 159, 64, 0.2)',\r\n              'rgba(70, 51, 145, 0.2)',\r\n              'rgba(145, 51, 70, 0.2)',\r\n              'rgba(244, 4, 160, 0.2)',\r\n              'rgba(244, 4, 51, 0.2)',\r\n              'rgba(174, 169, 86, 0.2)',\r\n              'rgba(152, 160, 222, 0.2)',\r\n              'rgba(64, 194, 149, 0.2)',\r\n\r\n            ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)',\r\n              'rgba(54, 162, 235, 1)',\r\n              'rgba(255, 206, 86, 1)',\r\n              'rgba(75, 192, 192, 1)',\r\n              'rgba(153, 102, 255, 1)',\r\n              'rgba(255, 159, 64, 1)',\r\n              'rgba(70, 51, 145, 1)',\r\n              'rgba(145, 51, 70, 1)',\r\n              'rgba(244, 4, 160, 1)',\r\n              'rgba(244, 4, 51, 1)',\r\n              'rgba(174, 169, 86, 1)',\r\n              'rgba(152, 160, 222, 1)',\r\n              'rgba(64, 194, 149, 1)',\r\n            ],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      }\r\n    return (\r\n        <div>\r\n            <div className=\"titulo\">Tempo em chamada em minutos</div>\r\n            <div className=\"conteudo\"><Pie data={tempo} /></div>\r\n            <div className=\"rodape\"></div>\r\n            <br/>\r\n                <br/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default tempoChamada;","import React from 'react';\r\nimport { getAudio } from '../../../api/ws';\r\n\r\nconst callrecordUnique = (props) => {\r\n    \r\n    const getCall = () =>{\r\n        let respostaStatus=\"\";\r\n        switch (props.data.resposta) {\r\n            case \"ANSWERED\":\r\n                respostaStatus = \"Atendido\"\r\n                break;\r\n            case \"NO ANSWER\":\r\n                respostaStatus = \"Sem resposta\"\r\n                break;\r\n\r\n            case \"BUSY\":\r\n                respostaStatus = \"Ocupado\"\r\n                break;\r\n            default:\r\n                break;\r\n\r\n        }\r\n        let minutos = Math.trunc(props.data.duracao/60)\r\n        let segundos = props.data.duracao%60\r\n        let tempo=[]\r\n        if(minutos>=10)tempo[0]=minutos+':'\r\n        else tempo[0]='0'+minutos+':'\r\n        if(segundos>=10)tempo[1]=''+segundos\r\n        else tempo[1]='0'+segundos\r\n\r\n        let channel = props.data.channel.split('-')[0].split('/')[1]\r\n        let onclick = () =>{\r\n            getAudio(props.data.unique)\r\n        }\r\n        if(channel===\"numerosonline\")channel = props.data.callerid\r\n        let resposta = <tr onClick={()=>onclick()}>        \r\n        <td>{channel}</td>\r\n        <td>{props.data.destino}</td>\r\n        <td>{respostaStatus}</td>\r\n        <td>{tempo[0]+tempo[1]}</td>\r\n        <td>{props.data.hora}</td>\r\n        </tr>;\r\n        if(props.pesquisarData !==\"\" && props.pesquisarData !== props.data.hora.split(' ')[0]){\r\n            resposta = <></>;\r\n        }\r\n        let voltar = false;\r\n        let voltar2 = false;\r\n\r\n        if(props.pesquisarDestino!==\"\"){\r\n            for(let i=0;i<props.pesquisarDestino.length;i++){\r\n                if(props.pesquisarDestino[i]===props.data.destino[i]){\r\n                    voltar = false;\r\n                }else{\r\n                    voltar = true;\r\n                    break;\r\n                }\r\n            }\r\n            for(let i=0;i<channel.length;i++){\r\n                if(props.pesquisarDestino[i]===channel[i]){\r\n                    voltar2 = false;\r\n                }else{\r\n                    voltar2 = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(voltar && voltar2) resposta = <></>;\r\n\r\n        \r\n//|| props.pesquisarDestino[i]===channelNumber[i]\r\n\r\n        return resposta;\r\n    } \r\n\r\n    return (\r\n        <>\r\n            {getCall()}\r\n    </>\r\n    );\r\n};\r\n\r\nexport default callrecordUnique;","import React, { useState }  from 'react';\r\nimport CallrecordUnique from './callrecordUnique';\r\n\r\n\r\nconst Callrecord = (props) => {\r\n    const [data, setData] = useState(\"\");\r\n    const [destino, setDestino] = useState(\"\");\r\n\r\n    const atualizar = (valor,destino) =>{\r\n        destino(valor)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"titulo\">Registro de chamadas</div>\r\n                <div className=\"conteudo\">\r\n                <table>\r\n                    <tr>\r\n                        <th>Origem</th>\r\n                        <th>Destino</th>\r\n                        <th>Resposta</th>\r\n                        <th  style={{width:'75px'}} >Duracao</th>\r\n                        <th>Hora</th>\r\n                    </tr>\r\n                        {props.data.map((item,index)=>(\r\n                                <CallrecordUnique key={index+\"callRecord\"} data={item} pesquisarData={data} pesquisarDestino={destino}/>\r\n                        ))}\r\n                    </table>\r\n                </div>\r\n                <div className=\"rodape\"> \r\n                <input type=\"date\" value={data} onChange={(event)=>atualizar(event.target.value,setData)} />\r\n                 <input type=\"text\" placeholder=\"Destino..\" value={destino}  onChange={(event)=>atualizar(event.target.value,setDestino)} />\r\n\r\n                 </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Callrecord;","import React, { useEffect,useState } from 'react';\r\nimport Inbound from './tabelas/historico/inbound';\r\nimport Outbound from './tabelas/historico/outbound';\r\nimport TempoChamada from './tabelas/historico/tempoChamada';\r\nimport Callrecord from './tabelas/historico/callrecord';\r\nimport { registrar } from '../api/ws.js';\r\n\r\n/*\r\nrecebo o array aqui de forma simples\r\n{callerid: \"8331423222\", destino: \"3\", contexto: \"from-external\", duracao: \"149\", resposta: \"NO ANSWER\", …}\r\n*/\r\nfunction Historico() {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        registrar(\"historico\",value => setData(value)) // onmount\r\n        return () => {\r\n            registrar(\"historico\",undefined) //ondismount\r\n        }\r\n    }, [])\r\n\r\n    let values ={}\r\n    data.forEach((item)=>{\r\n        if(item.resposta === \"ANSWERED\"){\r\n            let channel = item.channel.split('-')[0]\r\n            if(parseInt(item.destino)<9999999) return;\r\n\r\n            if(item.contexto === \"from-internal\"){\r\n                if(values[channel]===undefined)\r\n                {\r\n                    values[channel]={tempo:0,out:{quantidade:0},in:{quantidade:0}}\r\n                } \r\n                if(parseInt(item.duracao)>5) {\r\n                    values[channel]['tempo'] += parseInt(item.duracao) \r\n                    values[channel]['out']['quantidade'] += 1\r\n                }\r\n        \r\n            }else if(item.contexto === \"from-external\"){\r\n                if(values[channel]===undefined) {\r\n                    values[channel]={tempo:0,out:{quantidade:0},in:{quantidade:0}}\r\n                }\r\n                if(parseInt(item.duracao)>5){\r\n                    values[channel]['tempo'] += parseInt(item.duracao) \r\n                    values[channel]['in']['quantidade'] += 1\r\n                } \r\n        \r\n            }\r\n            \r\n        }\r\n    })\r\n\r\n\r\n    return (\r\n        <div className=\"corpo\">\r\n            {/* <div className=\"item\">\r\n                <RetornarQueue data={data}/>\r\n            </div> */}\r\n            <div className=\"item\">\r\n                <Callrecord data={data}/>\r\n            </div>\r\n            {\r\n                /*\r\n                <div className=\"item\">\r\n                <Inbound data={values}/>\r\n                </div>\r\n                */\r\n            }\r\n\r\n            <div className=\"item\">\r\n                <Outbound data={values}/>\r\n            </div>\r\n            <div className=\"item\">\r\n                <TempoChamada data={values}/>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Historico;","import React from 'react';\r\nimport { getKey } from '../../../api/ws';\r\n\r\nconst PjsipUnique = (props) => {\r\n    if(props.destino!==\"\"){\r\n        let voltar = true;\r\n\r\n        for(let i=0;i<props.destino.length;i++){\r\n            if(props.destino[i]===props.data.user[i] || props.destino[i]===props.data.linha[i]){\r\n                voltar = false;\r\n            }else{\r\n                voltar = true;\r\n                break;\r\n            }\r\n        }\r\n \r\n        if(voltar)return<></>\r\n    }\r\n    let getEstado = () =>{\r\n        switch (props.data.estado) {\r\n            case \"N\":\r\n                return \"Disponivel\"\r\n            case \"U\":\r\n                return \"Off\"\r\n            case \"R\":\r\n                return \"Chamando\"\r\n            case \"I\":\r\n                return \"Em chamada\"\r\n            case \"O\":\r\n                return \"Em espera\"\r\n            default:\r\n                return props.data.estado;\r\n        }\r\n    }\r\n    let click = () =>{\r\n        if(getKey()!==\"\"){\r\n            props.onClick()\r\n        }\r\n    }\r\n    return (\r\n        <tr onClick={() => click()}>\r\n            <td>{props.data.user}</td>\r\n            <td>{props.data.linha}</td>\r\n            <td>{getEstado()}</td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default PjsipUnique;","import React, { useState,useEffect }  from 'react';\r\nimport { registrar,sendMsg } from '../../../api/ws';\r\nimport PjsipUnique from './PjsipUnique';\r\nimport { getKey } from '../../../api/ws';\r\n\r\nconst Pjsip = () => {\r\n    const [destino, setDestino] = useState(\"\");\r\n    const [data, setData] = useState([]);\r\n    const [modvar, setModvar] = useState([\"\",\"\",\"\"]);\r\n    const [modal, setModal] = useState(0); \r\n    const [senha, setSenha] = useState(\"\");\r\n    const [linha, setLinha] = useState(\"\");\r\n    const [usuario, setUsuario] = useState(\"\");\r\n    const [context, setContext] = useState(\"from-internal\");\r\n    const atualizar = (valor,destino) =>{\r\n        destino(valor)\r\n    }\r\n    useEffect(() => {\r\n        registrar(\"pjsip\",value => setData(value)) // onmount\r\n        registrar(\"getPjsip\",value => {\r\n            setSenha(value[0]);\r\n            setContext(value[1]);\r\n            setModvar([value[0],\"\",value[1]])\r\n        })\r\n        return () => {\r\n            registrar(\"pjsip\",undefined) //ondismount\r\n            registrar(\"getPjsip\",undefined)\r\n        }\r\n    }, [])\r\n\r\n    let getModal = () =>{\r\n        switch (modal) {\r\n            case 1:\r\n                if(modvar[1]===\"\")setModvar([modvar[0],linha,modvar[2]])\r\n\r\n                return <div>\r\n                <div className=\"black\" onClick={()=>setModal(false)}></div>\r\n                <div className=\"modal\">\r\n                  <div className=\"titulo\" style={{position:\"absolute\",top:\"0px\",left:\"0px\"}}>Usuario</div>      \r\n                  <span className=\"close\" onClick={()=>setModal(false)}>&#10006;</span>\r\n                <br/>\r\n                <br/>\r\n                  <div className=\"info\">Usuario</div>\r\n                  <input type=\"text\" disabled value={usuario} onChange={event => setUsuario(event.target.value)}/>\r\n                  <div className=\"info\">Senha</div>\r\n                  <input type=\"text\" value={senha} onChange={event => setSenha(event.target.value)}/>\r\n                  <div className=\"info\">Linha</div>\r\n                  <input type=\"text\" value={linha} onChange={event => setLinha(event.target.value)} />\r\n                  <div className=\"info\">Tipos de chamada</div>\r\n                  <select name=\"cars\" id=\"cars\" value={context} onChange={(e)=>{setContext(e.target.value)}}>\r\n                    <option value=\"from-private\">Privadas</option>\r\n                    <option value=\"from-internal\">Gravadas</option>\r\n                 </select>\r\n                <div className=\"rodape\" style={{bottom:\"0px\",cursor:\"pointer\",left:\"0px\"}} onClick={() => {\r\n                if(modvar[0]!==senha && senha.length>12 && senha.length<24) sendMsg(\"att_pass\",[usuario,senha])\r\n                if(modvar[1]!==linha && linha.length<12)sendMsg(\"att_linha\",[usuario,linha])\r\n                if(modvar[2]!==context)sendMsg(\"att_context\",[usuario,context])\r\n                }}>Atualizar</div>\r\n                <div className=\"excluir\" onClick={()=>{sendMsg(\"dell_pjsip\",[usuario]);setModal(0) }}>\r\n                 <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z\"/></svg>\r\n                </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n            case 2:\r\n                return <div>\r\n                <div className=\"black\" onClick={()=>setModal(false)}></div>\r\n                <div className=\"modal\">\r\n                  <div className=\"titulo\" style={{position:\"absolute\",top:\"0px\",left:\"0px\"}}>Usuario</div>      \r\n                  <span className=\"close\" onClick={()=>setModal(false)}>&#10006;</span>\r\n                <br/>\r\n                <br/>\r\n                  <div className=\"info\">Usuario</div>\r\n                  <input type=\"text\" value={usuario} onChange={event => setUsuario(event.target.value)}/>\r\n                  <div className=\"info\">Senha</div>\r\n                  <input type=\"text\" value={senha} onChange={event => setSenha(event.target.value)}/>\r\n                  <div className=\"info\">Linha</div>\r\n                  <input type=\"text\" value={linha} onChange={event => setLinha(event.target.value)}/>\r\n                  <div className=\"info\">Tipos de chamada</div>\r\n                  <select name=\"cars\" id=\"cars\" value={context} onChange={(e)=>{setContext(e.target.value)}}>\r\n                  <option value=\"from-private\">Privadas</option>\r\n                    <option value=\"from-internal\">Gravadas</option>\r\n                 </select>\r\n                <div className=\"rodape\" style={{bottom:\"0px\",cursor:\"pointer\",left:\"0px\"}} onClick={() => {\r\n                if(linha.length<12 && usuario.length<5 && senha.length>12 && senha.length<24)\r\n                sendMsg(\"new_user\",[usuario,senha,linha,context])\r\n                }}>Criar</div>\r\n                </div>\r\n            </div>\r\n\r\n            default:\r\n                return <div></div>\r\n        }\r\n    }\r\n\r\n    let novoUsuario = () =>{\r\n        if(getKey()!==\"\"){\r\n            setModal(2)\r\n            setSenha(\"\")\r\n            setLinha(\"\")\r\n            setUsuario(\"\")\r\n        }\r\n    }\r\n    let getNewUser = () =>{\r\n        if(getKey()!==\"\"){\r\n            return <button onClick={() => novoUsuario()}>Novo usuario</button>\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"titulo\">Usuarios</div>\r\n            <div className=\"conteudo\">\r\n                <table>\r\n                    <tr>\r\n                        <th>Usuario</th>\r\n                        <th>Linha</th>\r\n                        <th>Estado</th>\r\n                    </tr>\r\n                        {data.map((data,index)=>{\r\n                            return <PjsipUnique key={index+\"pjsip\"} data={data} destino={destino} onClick={()=>\r\n                            {\r\n                                setSenha(\"\")\r\n                                sendMsg(\"get_pjsip\",[data.user])\r\n                                setLinha(data.linha)\r\n                                setUsuario(data.user)\r\n                                setModal(1)                                \r\n                            }}/>\r\n                        })}\r\n                    </table>\r\n                </div>\r\n            <div className=\"rodape\">\r\n                {getNewUser()}\r\n                 <input className=\"pesquisar\" type=\"text\" placeholder=\"Destino..\" value={destino}  onChange={(event)=>atualizar(event.target.value,setDestino)} />\r\n                 </div>\r\n                {getModal()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Pjsip;","import React from 'react';\r\nimport Pjsip from './tabelas/gerencial/pjsip';\r\nconst Gerencial = () => {\r\n    return (\r\n        <div className=\"corpo\">\r\n           <Pjsip/>\r\n\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Gerencial;","import {React,  useState, useEffect } from 'react';\r\nimport { sendMsg, registrar } from '../api/ws';\r\n\r\nconst Login = (props) => {\r\n    const [login, setLogin] = useState(\"\");\r\n    const [senha, setSenha] = useState(\"\");\r\n\r\n    let logado = () =>{\r\n        props.setOn()\r\n    }\r\n\r\n    useEffect(() => {\r\n        registrar(\"login\",() => logado()) // onmount\r\n        return () => {\r\n            registrar(\"login\",undefined) //ondismount\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"corpo\">\r\n            <div className=\"item\">\r\n            <div className=\"titulo\">Login</div>\r\n            <div className=\"conteudo login\">\r\n                <div className=\"container\">\r\n                    <div className=\"info\">Usuario</div>\r\n                    <input type=\"text\" value={login}  onChange={event => setLogin(event.target.value)}/>\r\n                    <div className=\"info\">Senha</div>\r\n                    <input type=\"password\" value={senha} onKeyPress={e=>{\r\n                        if(e.code===\"Enter\"){\r\n                            sendMsg(\"login\",[login,senha])\r\n                            setSenha(\"\")\r\n                    }\r\n                }} onChange={event => \r\n                        {\r\n                            setSenha(event.target.value)\r\n                        }}/>\r\n                    <button onClick={() => {\r\n                        sendMsg(\"login\",[login,senha])\r\n                        setSenha(\"\")\r\n                }}> Logar</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"rodape\"></div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import './dist/App.css';\nimport Header from './modulos/header';\nimport Ongoing from './modulos/ongoing';\nimport Historico from './modulos/historico';\nimport Gerencial from './modulos/gerencial';\nimport Login from './modulos/Login';\nimport React, { Component } from 'react';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selected: \"ongoing\",\n      isLoged: false\n    }\n\n  }\n\n  setSelected = (value) => {\n    this.setState({ selected: value })\n  }\n\n  setLoged = (value) => {\n    this.setState({isLoged: value})\n  }\n\n  render() {\n    let selecionado;\n    switch (this.state.selected) {\n      case \"ongoing\":\n        selecionado = <Ongoing />\n        break;\n      case \"historico\":\n        selecionado = <Historico />\n      break;\n      case \"gerencial\":\n        selecionado = <Gerencial/>\n        break;\n      case \"login\":\n        selecionado = <Login setOn={()=>{this.setSelected(\"gerencial\");this.setLoged(true)}} />\n        break;\n      default:\n        break;\n    }\n    return (\n      <div className=\"App\">\n        <Header switch={(value) => this.setSelected(value)} isLoged={this.state.isLoged}/>\n        { selecionado }\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,document.getElementById('root')\n);\n\n"],"sourceRoot":""}